--- PdfHandler.php
+++ PdfHandler.php
@@ -226,13 +226,13 @@ class PdfHandler extends ImageHandler {
 		);
 		$cmd .= " | " . wfEscapeShellArg(
 			$wgPdfPostProcessor,
+			"jpeg:-",
 			"-depth",
 			"8",
 			"-quality",
 			$wgPdfHandlerJpegQuality,
 			"-resize",
 			(string)$width,
-			"-",
 			$dstPath
 		);
 		$cmd .= ")";
